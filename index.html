<script>
  function downloadScript(fileName) {
    window.location.href = `/scripts/${fileName}`;
  }

  fetch('scripts.json')
    .then(response => response.json())
    .then(scripts => {
      const container = document.getElementById('script-container');
      const categories = {};

      // Group scripts by category
      scripts.forEach(script => {
        if (!categories[script.category]) {
          categories[script.category] = [];
        }
        categories[script.category].push(script);
      });

      // Render each category
      Object.keys(categories).forEach(category => {
        const categoryHeader = document.createElement('h2');
        categoryHeader.textContent = category;
        categoryHeader.style.marginTop = '2rem';
        container.appendChild(categoryHeader);

        categories[category].forEach(script => {
          const card = document.createElement('div');
          card.className = 'script-card';
          card.innerHTML = `
            <h3>${script.title} ${script.featured ? '‚≠ê' : ''}</h3>
            <p>${script.description}</p>
            <button onclick="downloadScript('${script.file}')">Download</button>
          `;
          container.appendChild(card);
        });
      });
    })
    .catch(error => {
      console.error('Failed to load script list:', error);
    });
</script>
