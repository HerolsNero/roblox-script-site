<script>
  async function loadScripts() {
    const res = await fetch('scripts.json');
    const scripts = await res.json();
    const container = document.getElementById('scriptContainer');

    container.innerHTML = '';

    scripts.forEach(script => {
      const card = document.createElement('div');
      card.className = 'script-card';
      card.setAttribute('data-title', script.title.toLowerCase());
      card.setAttribute('data-category', script.category.toLowerCase());

      card.innerHTML = `
        ${script.featured ? '<div class="featured-badge">Featured</div>' : ''}
        <h3>${script.title}</h3>
        <p>${script.description}</p>
        <button onclick="window.location.href='scripts/${script.file}'">Download</button>
      `;

      container.appendChild(card);
    });
  }

  loadScripts();

  // Search filtering
  const searchInput = document.getElementById('searchInput');
  searchInput.addEventListener('input', () => {
    const query = searchInput.value.toLowerCase();
    document.querySelectorAll('.script-card').forEach(card => {
      const title = card.getAttribute('data-title');
      card.style.display = title.includes(query) ? '' : 'none';
    });
  });
</script>
